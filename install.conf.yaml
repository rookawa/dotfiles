- defaults:
    link:
      create: true
      relink: true

- clean: ['~']

- link:
    ~/.dotfiles: ''
    ~/.ackrc:
    ~/.curlrc:
    ~/.gitconfig:
    ~/.inputrc:
    ~/.tmux.conf:
    ~/.vimrc:
      relink: true
    ~/.zshrc:
      force: true

- shell:
    - command: chsh -s /bin/zsh
      description: Changing default shell to ZSH
    - command: /usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
      description: Installing Homebrew
      stdout: true
      stderr: true
    - command: git clone https://github.com/asdf-vm/asdf.git ~/.asdf --branch v0.7.1
      description: Installing asdf
      stdout: true
      stderr: true
    - command: git submodule update --init --recursive
      description: Installing submodules
      stdout: true
      stderr: true
    - command: git clone https://github.com/zdharma/zplugin.git ~/.zplugin/bin
      description: Installing zplugin
      stdout: true
      stderr: true
    - command: source ./macOS/set-defaults.sh
      description: Tweaking macOS settings
      stdout: true
      stderr: true

- brewfile:
  file: Brewfile

- asdf:
    - plugin: golang
      url: https://github.com/kennyp/asdf-golang.git
    - plugin: helm
      url: https://github.com/Antiarchitect/asdf-helm.git
    - plugin: kops
      url: https://github.com/Antiarchitect/asdf-kops.git
    - plugin: kubectl
      url: https://github.com/Banno/asdf-kubectl.git
    - plugin: nodejs
      url: https://github.com/asdf-vm/asdf-nodejs.git
    - plugin: python
      url: https://github.com/danhper/asdf-python.git
    - plugin: ruby
      url: https://github.com/asdf-vm/asdf-ruby.git
    - plugin: terraform
      url: https://github.com/Banno/asdf-hashicorp.git
    - plugin: vault
      url: https://github.com/Banno/asdf-hashicorp.git
